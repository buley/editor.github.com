<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Canvas Videoplayer</title>
		<link href="style.css" type="text/css" rel="stylesheet"/>
<!--		<script src="https://github.com/Modernizr/Modernizr/raw/master/modernizr.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		-->		
		<script type="text/javascript">

		var Buleys = Buleys || {};
		Buleys.video = function() {
			this.player = document.getElementById( 'videoplayer' );
		};
		Buleys.video.loaded = function() {
			console.log( 'Buleys.loaded()' );
			this.player.addEventListener( 'progress', Buleys.video.loadStatus, false );
			this.player.addEventListener( 'canplaythrough', Buleys.video.play, false );
		};
		Buleys.video.loadStatus = function() {
			console.log( 'Buleys.video.loadStatus()', this.percentLoaded() );
		};

		Buleys.video.percentLoaded = function() {
			return parseInt( ( ( this.player.buffered.end( 0 ) / videoElement.duration ) * 100 ), 10 );
		};

		Buleys.video.play = function() {
			console.log( 'Buleys.video.play()' );
			this.player.play();
		};
		window.addEventListener( 'load', Buleys.video.loaded, false );

		</script>
	</head>
	<body>

		<!--<canvas id="canvas">Not supported.</canvas>-->
		<div id='videoplayer_container'>
			<video id="videoplayer" width="320" height="240" preload="auto">
				<source src="http://editor.github.com/News/Video/muirbeach.mp4" type='video/mp4'>
				<source src="http://editor.github.com/News/Video/muirbeach.webm" type='video/webm'>
				<source src='http://editor.github.com/News/Video/muirbeach.ogg' type='video/ogg'>
			</video>
		</div>
		<div id='videoplayer_container_loader'>
		</div>
	</body>
	</html>

